在准备护照或者签证照片时经常要到处找工具来做相片的预处理：第一是把大头照的背景调成纯白色，第二是把相片调整成合规的尺寸拿去CVS或者Walgreens打印出来。每隔一段时间需要新的照片时，就不得不花费一些时间在网上搜寻一番免费的工具来完成上面两步。特别是在线处理照片背景的工具，网上的"免费"工具似乎每隔一段时间就会换一批，处理的效果也很不稳定。而且现在越来越多的工具需要注册才能使用，或者付费才能解锁完整功能。不想被迫提交邮箱来接收更多的垃圾邮件，再加上对于照片隐私的顾虑，用起来心里总是有所顾虑。

现在AI编程助手发展迅速，是时候低成本重新再造几个轮子来完成以上的诉求，实现签证照处理不求人了。

一开始的计划是把照片背景处理和排版放到一个小工具里实现一站式服务。通过agent也确实做出了这样一个[小网页](https://askming.github.io/visa_photo_maker_web/)。但是免费的抠图换背景算法一直不能达到令人满意的效果，特别是头发周围的背景不能处理得很好。经过无数轮耐心的引导，AI抠图的效果始终不能让人满意，这个网页工具的两条腿算是跛了一条。一天在用苹果手机的照片app时突然灵机一动，找到了一个替换照片背景的理想方案。

iOS的照片app很早之前加入了抠图的功能，功能十分强大。用手指长按照片里的人物便可以自动识别出轮廓实现抠图的功能。抠出来的人可以粘贴到imessage里增加聊天的趣味。我突然意识到这个功能不是就可以免费实现高效的照片背景替换吗？把人物扣出来放到白色的背景的画布上就成了！而且苹果手机把一切都准备好了，这一系列操作可以通过编写Shortcuts来自动完成。AI也是Shortcuts的专家，把想法告诉它之后，经过几轮的对话和修正，一个简单的换背景工作流就完成了。经过不同相片的测试，效果比之前的免费去背景算法要好上很多。

所以之前网页工具的另一条腿算是通过曲线救国的方式给补齐了 -- 先在手机上把照片的背景替换成纯白，再用网页工具调整好照片尺寸和打印的排版格式下载成片。虽然要分别在手机和网页上分两步操作有点繁琐，但基本上能满足日常需求了。

[替换照片白色背景Shortcut](https://www.icloud.com/shortcuts/6a1921f0c638452db63c2eb53b4d533d)